package com.broadtech.vulnerability.units;

import org.apache.commons.dbcp.BasicDataSource;

import java.sql.Connection;

/**
 * @author jiangqingsong
 * @description
 * @date 2020-09-18 10:21
 */
public class DBUtils {
    public static Connection getCon(BasicDataSource dataSource, String jdbcUrl, String userName, String password) throws Exception {
        dataSource.setDriverClassName("com.mysql.cj.jdbc.Driver");
        dataSource.setUrl(jdbcUrl);
        dataSource.setUsername(userName);
        dataSource.setPassword(password);
        //设置连接池的一些参数
        dataSource.setInitialSize(5);
        dataSource.setMinIdle(2);

        Connection con = null;
        try {
            con = dataSource.getConnection();
        } catch (Exception e) {
            e.printStackTrace();
        }
        return con;

    }
}
